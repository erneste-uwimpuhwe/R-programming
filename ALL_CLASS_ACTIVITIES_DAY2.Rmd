## ADVENTIST UNIVERSITY OF CENTRAL AFRICA_RWANDA
<center><H3> R for DATA SCIENCE</H3> </center>
# STUDENT NAMES_ID: Erneste UWIMPUHWE_101414
# LECTURER:
# Dr.Pacifique Nizeyimana
# DATE 17/10/2025
<h3>class one Task</h3>

# DAY2_PRACTICAL_ACTIVITIES_IN_R

# CONDITIONAL STATEMENT IN R
######### SIMPLE FUNCTION IN R
```{r}
f<-function(x) x^2
formals(f)
```
```{r}
body(f)
```
```{r}
environment(f)
```
# ifelse(test,yes,No)
```{r}
pvalues<-c(.867,0.0054,0.0018,0.1572,0.0183,0.5386)
results<-ifelse(pvalues<0.05,"Significant"," Not significant")
results
```
```{r}
x<-runif(1,0,10)
if(x>3){
y<-10
}else {
y<-0
}
```
# The value of y is a set depending on whether x>3 or not. This can also be achieved BY
```{r}
y<-if (x>3){
10
}else {
0
}
```

# For usage
```{r}
for(i in 1:10){
print(i) # will print values from 1 up to 10
}
```
```{r}
x<-c("a","b","c","d")
x[3] # will print value at index 2
```
```{r}
for(i in 1:5){
print(x[i])
}
```
```{r}
for(i in 1:5)print(1:i)
```
```{r}
for(i in 5:1)print(1:i)
```
# while loops
## It begins by testing a condition, if it is true, then they execute the loop body. once theloop body is executed, the condition is tested again, until the condition is false. afterwhich the loop exits.
```{r}
count<-1
while (count<10){
print(count)
count<-count+1
}
```
```{r}
z<-5
set.seed(1)
while(z>= 3 && z<=10){
coin<-rbinom(1,1,0.5)
if (coin==1){
z=z+1
} else {
z<-z-1
}
}
print(z)
```
# next, break
## This is used to skip an iteration of a loop

```{r}
for (i in 1:100){
print(1:i)
if (i>20){
break
}
}
```

# FUNCTION DECLARATION 
```{r}
f<-function(x,y){
result<-x+(2*y)+3
return(result)
}
f(2,3)
```
# Applying functions to matrices and data frame.
```{r}
a<-4
sqrt(4)
```
```{r}
b<- c(1,243,5.754,2.987)
round(b)
```
```{r}
c<-matrix(runif(12),nrow=3)
c
```
```{r}
log(c)
```

```{r}
mean(c)
```
# lappy function
# lapply() takes three inputs:,x,a list,a function, and…, It applies to each element of thelist and returns a new list. lapply(x,f,…). It is called function because it takes functionas an argument. Assume we have a data frame df. instead of assigning the result pflappliy() to df, we will assign them to df[] to ensure we get a data frame.
```{r}
fix_missing<-function(x){
x[x==-99]<-NA
x
}
function1<-function(x){
x^2
}
curve(function1,-4,4)
```

# sapply
## sapply() and vapply(), variants of lapply() that produces vectors,matrices, andarrays as Output, instead of lists map(), and mapply which iterate over multipleinput data structures in parallel

```{r}
str(Titanic)
```

```{r}
View(Titanic)
apply(Titanic,c(1,2),sum )
```

```{r}
options(digits = 2)
apply(Titanic,c(1,2),sum)[3:4,]
```

```{r}
apply(Titanic,c(1,4),sum)[3:4,]
```

```{r}
apply(Titanic,c(1,2,4),sum)
```
# apply(Titanic,c(1,2,4),sum)[3:4,]
```{r}
apply(Titanic,c(1,2,4),sum)[3:4,,]
```

```{r}
ftable(apply(Titanic,c(1,4,2),sum)[3:4,,])
```

```{r}
ftable(apply(Titanic,c(1,4,2),sum)[3:4,,])[1:2,]
```

```{r}
ftable(apply(Titanic,c(1,4,2),sum)[3:4,,])[3:4,]
```

```{r}
digit=2
prop.table(ftable(apply(Titanic,c(1,4,2),sum)[3:4,,])[1:2,], margin = 2)
```

```{r}
prop.table(ftable(apply(Titanic,c(1,4,2),sum)[3:4,,])[3:4,], margin = 2)
```

```{r}
matrix(prop.table(ftable(apply(Titanic,c(1,4,2),sum)[3:4,,])[3:4,],margin = 2),nrow = 2, dimnames = list(dimnames(Titanic)$Survived,dimnames
(Titanic)$Sex))
```
```{r}
matrix(prop.table(ftable(apply(Titanic,c(1,4,2),sum)[3:4,,])[3:4,], margin = 2),nrow = 2, dimnames = list(dimnames(Titanic)$Survived,dimnames
(Titanic)$Sex))
```

### Create dataset
```{r}
Student<-c("John ncuti", "Angela bakame", "Bruce wizeye","Alexis aganze
", "claude Rukundo", "Joel Kagabo", "Mary ineza")
Math<-c(600,412,358,495,512,410,522)
Science<-c(95,99,80,82,75,89,77)
English<-c(25,22,18,20,29,30,27)
roster<-data.frame(Student,Math,Science,English,stringsAsFactors = FALSE)
```

### standardize variables and obtains the performance scores because they are reported on different scale( With widely differing means and standard deviations, we need to make them comparable before we combine them.)

```{r}
z<-scale(roster[,2:4])
```

### performance of each students using rowmeans and adding them to roster using cbind()
```{r}
score<-apply(z,1,mean)
roster<-cbind(roster,score)
```

### Grades the students: quantile function gives the percentile rank of each student's performance score check the cutoff of A

```{r}
roster$grade[score>=y[1]]<-"A"
roster$grade[score<y[1]&score>=y[2]]<-"B"
roster$grade[score<y[2]& score>=y[3]]<-"C"
roster$grade[score<y[3]& score>=y[4]]<-"D"
roster$grade[score<y[4]]<-"F"
```

#### Dealing with names
```{r}
name<-strsplit((roster$Student),"")
lastname<-sapply (name,"[",2)
firstname<-sapply(name,"[",1)
roster<-cbind(firstname, lastname,roster[,-1])
roster<-roster[order(lastname,firstname),]
roster
```
#Aggregation and reshaping
#transpose
```{r}
cars<-mtcars[1:5, 1:4]
cars
```

#Mazda RX4 Mazda RX4 Wag Datsun 710 Hornet 4 Drive Hornet Sport about MPG
```{r}
t(cars)
```

#aggregate data
##aggregate() collapse data in R using one or more by variables and a defined function
```{r}
options(digits=3)
attach(mtcars)
aggdata<-aggregate(mtcars,by=list(cyl,gear),FUN=mean,na.rm=TRUE)
```

#Reshape
##Step 1: install the package reshape2 step 2: melt data step 3: Cast the melted data any shape you desireDuring the cast, you can aggregate the data with any function you wish

```{r}
id<-c(1,1,2,2)
time<-c(1,2,1,2)
x1<-c(5,3,6,2)
x2<-c(6,5,1,4)
mydata<-data.frame(id,time,x1,x2)
```

